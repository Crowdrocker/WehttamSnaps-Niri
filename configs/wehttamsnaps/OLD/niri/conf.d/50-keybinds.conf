// ===================================================================================
// WEHTTAMSNAPS - KEYBINDINGS CONFIGURATION
// Comprehensive keybinds for productivity, gaming, and streaming
// ===================================================================================

// Define the SUPER (Windows) key as MOD
let MOD = Super

// DankMaterialShell keybinds - Quickshell integration
binds {
    // Application Launcher
    $MOD+Space hotkey-overlay-title="Application Launcher" {
        spawn "dms" "ipc" "call" "spotlight" "toggle";
    }
    
    // Clipboard Manager
    $MOD+V hotkey-overlay-title="Clipboard Manager" {
        spawn "dms" "ipc" "call" "clipboard" "toggle";
    }
    
    // Task Manager
    $MOD+M hotkey-overlay-title="Task Manager" {
        spawn "dms" "ipc" "call" "processlist" "toggle";
    }
    
    // Notification Center
    $MOD+N hotkey-overlay-title="Notification Center" {
        spawn "dms" "ipc" "call" "notifications" "toggle";
    }
    
    // Settings
    $MOD+Comma hotkey-overlay-title="Settings" {
        spawn "dms" "ipc" "call" "settings" "toggle";
    }
    
    // Notepad
    $MOD+P hotkey-overlay-title="Notepad" {
        spawn "dms" "ipc" "call" "notepad" "toggle";
    }
    
    // Lock Screen
    $MOD+Alt+L hotkey-overlay-title="Lock Screen" {
        spawn "dms" "ipc" "call" "lock" "lock";
    }
    
    // Power Menu
    $MOD+X hotkey-overlay-title="Power Menu" {
        spawn "dms" "ipc" "call" "powermenu" "toggle";
    }
    
    // Control Center
    $MOD+C hotkey-overlay-title="Control Center" {
        spawn "dms" "ipc" "call" "control-center" "toggle";
    }
    
    // Wallpaper Browser
    $MOD+Y hotkey-overlay-title="Browse Wallpapers" {
        spawn "dms" "ipc" "call" "dankdash" "wallpaper";
    }
}

// System keybinds
binds {
    // Terminal (Ghostty)
    $MOD+Enter {
        spawn "ghostty"
    }
    
    // Application Launcher (Rofi)
    $MOD+D {
        spawn "rofi" "-show" "drun"
    }
    
    // File Manager
    $MOD+F {
        spawn "thunar"
    }
    
    // Browser (Brave)
    $MOD+B {
        spawn "brave-browser"
    }
    
    // Code Editor
    $MOD+E {
        spawn "kate"
    }
    
    // System Monitor
    $MOD+Ctrl+M {
        spawn "btop"
    }
    
    // Help/Keyhints
    $MOD+H {
        spawn "/usr/local/bin/wehttamsnaps-keyhints"
    }
    
    // Welcome Screen
    $MOD+Shift+W {
        spawn "python3" "/usr/local/bin/wehttamsnaps-welcome"
    }
}

// Window management
binds {
    // Close window
    $MOD+Q {
        close-window
    }
    
    // Kill window
    $MOD+Shift+Q {
        kill-window
    }
    
    // Toggle floating
    $MOD+Shift+F {
        toggle-floating
    }
    
    // Toggle fullscreen
    $MOD+F11 {
        toggle-fullscreen
    }
    
    // Focus directions
    $MOD+Left {
        focus-column left
    }
    
    $MOD+Right {
        focus-column right
    }
    
    $MOD+Up {
        focus-window up-or-down
    }
    
    $MOD+Down {
        focus-window up-or-down
    }
    
    // Move windows
    $MOD+Shift+Left {
        move-window left
    }
    
    $MOD+Shift+Right {
        move-window right
    }
    
    $MOD+Shift+Up {
        move-window up
    }
    
    $MOD+Shift+Down {
        move-window down
    }
    
    // Resize windows
    $MOD+Ctrl+Left {
        resize-window -50 0
    }
    
    $MOD+Ctrl+Right {
        resize-window 50 0
    }
    
    $MOD+Ctrl+Up {
        resize-window 0 -50
    }
    
    $MOD+Ctrl+Down {
        resize-window 0 50
    }
}

// Workspace management
binds {
    // Switch to workspace
    $MOD+1 {
        focus-workspace 1
    }
    
    $MOD+2 {
        focus-workspace 2
    }
    
    $MOD+3 {
        focus-workspace 3
    }
    
    $MOD+4 {
        focus-workspace 4
    }
    
    $MOD+5 {
        focus-workspace 5
    }
    
    $MOD+6 {
        focus-workspace 6
    }
    
    $MOD+7 {
        focus-workspace 7
    }
    
    $MOD+8 {
        focus-workspace 8
    }
    
    $MOD+9 {
        focus-workspace 9
    }
    
    $MOD+0 {
        focus-workspace 10
    }
    
    // Move window to workspace
    $MOD+Shift+1 {
        move-window-to-workspace 1
    }
    
    $MOD+Shift+2 {
        move-window-to-workspace 2
    }
    
    $MOD+Shift+3 {
        move-window-to-workspace 3
    }
    
    $MOD+Shift+4 {
        move-window-to-workspace 4
    }
    
    $MOD+Shift+5 {
        move-window-to-workspace 5
    }
    
    $MOD+Shift+6 {
        move-window-to-workspace 6
    }
    
    $MOD+Shift+7 {
        move-window-to-workspace 7
    }
    
    $MOD+Shift+8 {
        move-window-to-workspace 8
    }
    
    $MOD+Shift+9 {
        move-window-to-workspace 9
    }
    
    $MOD+Shift+0 {
        move-window-to-workspace 10
    }
}

// Screenshot and recording
binds {
    // Full screenshot
    Print {
        spawn "grim" "-o" "DP-3" "~/Pictures/Screenshots/screenshot-$(date +%Y%m%d-%H%M%S).png"
    }
    
    // Region screenshot
    $MOD+Print {
        spawn "grim" "-g" "$(slurp)" "~/Pictures/Screenshots/screenshot-$(date +%Y%m%d-%H%M%S).png"
    }
    
    // Active window screenshot
    Alt+Print {
        spawn "grim" "-g" "$(slurp -w 0)" "~/Pictures/Screenshots/screenshot-$(date +%Y%m%d-%H%M%S).png"
    }
    
    // Screen recording
    $MOD+Shift+R {
        spawn "wf-recorder" "-o" "~/Videos/recordings/recording-$(date +%Y%m%d-%H%M%S).mp4"
    }
}

// Gaming specific keybinds
binds {
    // Toggle gaming mode
    $MOD+Shift+G {
        spawn "/usr/local/bin/wehttamsnaps-gaming-mode"
    }
    
    // Launch Steam
    $MOD+Alt+S {
        spawn "steam"
    }
    
    // Launch Lutris
    $MOD+Alt+L {
        spawn "lutris"
    }
    
    // Gamescope launcher
    $MOD+Alt+G {
        spawn "gamescope" "--" "steam"
    }
}

// Audio controls
binds {
    XF86AudioRaiseVolume {
        spawn "dms" "ipc" "call" "audio" "increment" "3"
    }
    
    XF86AudioLowerVolume {
        spawn "dms" "ipc" "call" "audio" "decrement" "3"
    }
    
    XF86AudioMute {
        spawn "dms" "ipc" "call" "audio" "mute"
    }
    
    XF86AudioMicMute {
        spawn "dms" "ipc" "call" "audio" "micmute"
    }
}

// Brightness controls
binds {
    XF86MonBrightnessUp {
        spawn "dms" "ipc" "call" "brightness" "increment" "5"
    }
    
    XF86MonBrightnessDown {
        spawn "dms" "ipc" "call" "brightness" "decrement" "5"
    }
}

// Media controls
binds {
    XF86AudioPlay {
        spawn "playerctl" "play-pause"
    }
    
    XF86AudioNext {
        spawn "playerctl" "next"
    }
    
    XF86AudioPrev {
        spawn "playerctl" "previous"
    }
}

// System controls
binds {
    // Lock screen
    $MOD+Ctrl+L {
        spawn "loginctl" "lock-session"
    }
    
    // Power menu
    $MOD+Ctrl+P {
        spawn "wlogout"
    }
    
    // Exit Niri
    $MOD+Alt+E {
        spawn "niri-msg" "quit"
    }
    
    // Reload configuration
    $MOD+Shift+R {
        spawn "niri-msg" "reload"
    }
}